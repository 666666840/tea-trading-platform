# èŒ¶å¶å¹³å°å†…å®¹ç®¡ç†ç³»ç»Ÿ

## ğŸ“– æ¦‚è¿°

èŒ¶å¶å¹³å°å†…å®¹ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„å†…å®¹ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œä¸ºèŒ¶å¶ä¸€ç‚¹é€šå°ç¨‹åºæä¾›å¼ºå¤§çš„å†…å®¹ç®¡ç†åŠŸèƒ½ã€‚ç³»ç»ŸåŒ…å«å†…å®¹åˆ›å»ºã€ç¼–è¾‘ã€å®¡æ ¸ã€å‘å¸ƒã€ç»Ÿè®¡åˆ†æç­‰å®Œæ•´åŠŸèƒ½æ¨¡å—ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **å†…å®¹CRUDæ“ä½œ** - åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤å†…å®¹
- **å†…å®¹å®¡æ ¸ç³»ç»Ÿ** - è‡ªåŠ¨å’Œæ‰‹åŠ¨å®¡æ ¸å†…å®¹è´¨é‡
- **å†…å®¹è´¨é‡åˆ†æ** - æ™ºèƒ½åˆ†æå†…å®¹è´¨é‡å¹¶ç»™å‡ºè¯„åˆ†
- **å†…å®¹è°ƒåº¦å‘å¸ƒ** - æ”¯æŒå®šæ—¶å‘å¸ƒå’Œæ‰¹é‡æ“ä½œ
- **ç»Ÿè®¡åˆ†æ** - è¯¦ç»†çš„å†…å®¹æ•°æ®ç»Ÿè®¡å’Œåˆ†æ
- **æƒé™ç®¡ç†** - åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶

### ğŸ“ å†…å®¹ç±»å‹æ”¯æŒ
- **æ¨èå†…å®¹** (recommend) - æ¨èå•†å“å’Œå†…å®¹
- **èµ„è®¯å†…å®¹** (news) - è¡Œä¸šæ–°é—»å’Œèµ„è®¯
- **èŒ¶è‰ºå†…å®¹** (art) - èŒ¶æ–‡åŒ–ç›¸å…³å†…å®¹
- **çƒ­ç‚¹å†…å®¹** (hot) - çƒ­é—¨è¯é¢˜å’Œæ´»åŠ¨
- **æŒ‡å—å†…å®¹** (guide) - ä½¿ç”¨æŒ‡å—å’Œæ•™ç¨‹
- **è¯„æµ‹å†…å®¹** (review) - äº§å“è¯„æµ‹å’Œæ¨è

### ğŸ”„ å†…å®¹çŠ¶æ€ç®¡ç†
- **è‰ç¨¿** (draft) - æœªå®Œæˆçš„å†…å®¹
- **å¾…å®¡æ ¸** (pending) - ç­‰å¾…å®¡æ ¸çš„å†…å®¹
- **å·²å®¡æ ¸** (approved) - å®¡æ ¸é€šè¿‡çš„å†…å®¹
- **å·²å‘å¸ƒ** (published) - å·²å‘å¸ƒçš„å†…å®¹
- **å·²æ‹’ç»** (rejected) - å®¡æ ¸æ‹’ç»çš„å†…å®¹
- **å·²å½’æ¡£** (archived) - å·²å½’æ¡£çš„å†…å®¹

### â­ å†…å®¹ä¼˜å…ˆçº§
- **ä½ä¼˜å…ˆçº§** (low) - ä½ä¼˜å…ˆçº§å†…å®¹
- **æ™®é€šä¼˜å…ˆçº§** (normal) - æ™®é€šä¼˜å…ˆçº§å†…å®¹
- **é«˜ä¼˜å…ˆçº§** (high) - é«˜ä¼˜å…ˆçº§å†…å®¹
- **ç´§æ€¥ä¼˜å…ˆçº§** (urgent) - ç´§æ€¥ä¼˜å…ˆçº§å†…å®¹

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### åç«¯æ¶æ„
```
content_management_system.py    # æ ¸å¿ƒå†…å®¹ç®¡ç†ç³»ç»Ÿ
content_management_api.py       # Flask APIæ¥å£
server.py                       # ä¸»æœåŠ¡å™¨ï¼ˆé›†æˆAPIï¼‰
```

### å‰ç«¯æ¶æ„
```
pages/content-management/       # å°ç¨‹åºå†…å®¹ç®¡ç†é¡µé¢
â”œâ”€â”€ content-management.js       # é¡µé¢é€»è¾‘
â”œâ”€â”€ content-management.wxml     # é¡µé¢æ¨¡æ¿
â”œâ”€â”€ content-management.wxss     # é¡µé¢æ ·å¼
â””â”€â”€ content-management.json     # é¡µé¢é…ç½®

utils/content-api.js            # APIè°ƒç”¨å·¥å…·
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
# å¯åŠ¨FlaskæœåŠ¡å™¨
python server.py
```

### 2. æµ‹è¯•ç³»ç»ŸåŠŸèƒ½

```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
python test_content_management.py
```

### 3. è®¿é—®å°ç¨‹åºé¡µé¢

åœ¨å°ç¨‹åºä¸­å¯¼èˆªåˆ°å†…å®¹ç®¡ç†é¡µé¢ï¼š
```javascript
wx.navigateTo({
  url: '/pages/content-management/content-management'
})
```

## ğŸ“¡ APIæ¥å£æ–‡æ¡£

### åŸºç¡€URL
```
http://localhost:3000/api/content-management
```

### å†…å®¹CRUDæ¥å£

#### è·å–å†…å®¹åˆ—è¡¨
```http
GET /contents?page=1&per_page=20&type=news&status=published
```

#### è·å–å†…å®¹è¯¦æƒ…
```http
GET /contents/{content_id}
```

#### åˆ›å»ºå†…å®¹
```http
POST /contents
Content-Type: application/json

{
  "title": "å†…å®¹æ ‡é¢˜",
  "content": "å†…å®¹æ­£æ–‡",
  "type": "news",
  "priority": "normal",
  "author": "ä½œè€…",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "category": "åˆ†ç±»"
}
```

#### æ›´æ–°å†…å®¹
```http
PUT /contents/{content_id}
Content-Type: application/json

{
  "title": "æ›´æ–°åçš„æ ‡é¢˜",
  "content": "æ›´æ–°åçš„å†…å®¹"
}
```

#### åˆ é™¤å†…å®¹
```http
DELETE /contents/{content_id}
```

### å†…å®¹æ“ä½œæ¥å£

#### å‘å¸ƒå†…å®¹
```http
POST /contents/{content_id}/publish
```

#### å®¡æ ¸é€šè¿‡
```http
POST /contents/{content_id}/approve
Content-Type: application/json

{
  "auditor": "å®¡æ ¸å‘˜",
  "notes": "å®¡æ ¸å¤‡æ³¨"
}
```

#### å®¡æ ¸æ‹’ç»
```http
POST /contents/{content_id}/reject
Content-Type: application/json

{
  "auditor": "å®¡æ ¸å‘˜",
  "notes": "æ‹’ç»åŸå› "
}
```

#### åˆ‡æ¢æ¨èçŠ¶æ€
```http
POST /contents/{content_id}/toggle-featured
```

#### åˆ‡æ¢ç½®é¡¶çŠ¶æ€
```http
POST /contents/{content_id}/toggle-top
```

### æ‰¹é‡æ“ä½œæ¥å£

#### æ‰¹é‡å‘å¸ƒ
```http
POST /contents/batch-publish
Content-Type: application/json

{
  "content_ids": [1, 2, 3]
}
```

#### æ‰¹é‡åˆ é™¤
```http
POST /contents/batch-delete
Content-Type: application/json

{
  "content_ids": [1, 2, 3]
}
```

### ç»Ÿè®¡åˆ†ææ¥å£

#### è·å–ç»Ÿè®¡ä¿¡æ¯
```http
GET /statistics
```

#### å†…å®¹è´¨é‡åˆ†æ
```http
GET /contents/{content_id}/analyze
```

### æšä¸¾å€¼æ¥å£

#### è·å–å†…å®¹ç±»å‹
```http
GET /enums/content-types
```

#### è·å–å†…å®¹çŠ¶æ€
```http
GET /enums/content-statuses
```

#### è·å–å†…å®¹ä¼˜å…ˆçº§
```http
GET /enums/content-priorities
```

### ç³»ç»Ÿæ¥å£

#### å¥åº·æ£€æŸ¥
```http
GET /health
```

## ğŸ¨ å°ç¨‹åºé¡µé¢åŠŸèƒ½

### å†…å®¹åˆ—è¡¨é¡µé¢
- âœ… å†…å®¹åˆ—è¡¨å±•ç¤º
- âœ… åˆ†é¡µåŠ è½½
- âœ… ç­›é€‰å’Œæœç´¢
- âœ… æ‰¹é‡é€‰æ‹©æ“ä½œ
- âœ… å†…å®¹çŠ¶æ€æ ‡è¯†
- âœ… å¿«é€Ÿæ“ä½œæŒ‰é’®

### å†…å®¹åˆ›å»ºé¡µé¢
- âœ… è¡¨å•éªŒè¯
- âœ… å¯Œæ–‡æœ¬ç¼–è¾‘
- âœ… æ ‡ç­¾ç®¡ç†
- âœ… SEOè®¾ç½®
- âœ… åª’ä½“èµ„æºä¸Šä¼ 
- âœ… é¢„è§ˆåŠŸèƒ½

### ç»Ÿè®¡åˆ†æé¡µé¢
- âœ… æ€»ä½“ç»Ÿè®¡
- âœ… ç±»å‹åˆ†å¸ƒ
- âœ… è´¨é‡åˆ†æ
- âœ… è¶‹åŠ¿å›¾è¡¨
- âœ… å¯¼å‡ºåŠŸèƒ½

### ç³»ç»Ÿè®¾ç½®é¡µé¢
- âœ… è‡ªåŠ¨å®¡æ ¸è®¾ç½®
- âœ… è´¨é‡é˜ˆå€¼é…ç½®
- âœ… å‘å¸ƒè§„åˆ™è®¾ç½®
- âœ… æƒé™ç®¡ç†

## ğŸ”§ é…ç½®è¯´æ˜

### å†…å®¹è´¨é‡åˆ†æé…ç½®
```python
# è´¨é‡åˆ†ææƒé‡é…ç½®
quality_weights = {
    'title_length': 0.15,      # æ ‡é¢˜é•¿åº¦æƒé‡
    'content_length': 0.20,    # å†…å®¹é•¿åº¦æƒé‡
    'keyword_density': 0.15,   # å…³é”®è¯å¯†åº¦æƒé‡
    'readability': 0.20,       # å¯è¯»æ€§æƒé‡
    'uniqueness': 0.15,        # å”¯ä¸€æ€§æƒé‡
    'completeness': 0.15       # å®Œæ•´æ€§æƒé‡
}
```

### å®¡æ ¸è§„åˆ™é…ç½®
```python
# æ•æ„Ÿè¯é…ç½®
sensitive_words = [
    'è¿æ³•', 'è¿è§„', 'æ¶‰é»„', 'æ¶‰æ¯’', 'èµŒåš', 'è¯ˆéª—', 'ä¼ é”€',
    'æ”¿æ²»æ•æ„Ÿ', 'æš´åŠ›', 'ææ€–', 'æ­§è§†', 'ä¾®è¾±', 'è¯½è°¤'
]

# åƒåœ¾ä¿¡æ¯æ£€æµ‹
spam_patterns = [
    r'http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+',
    r'\d{11}',  # æ‰‹æœºå·
    r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}',  # é‚®ç®±
]
```

## ğŸ“Š æ•°æ®æ¨¡å‹

### ContentItem æ•°æ®æ¨¡å‹
```python
@dataclass
class ContentItem:
    id: Optional[int] = None
    title: str = ""                    # æ ‡é¢˜
    content: str = ""                  # å†…å®¹
    summary: str = ""                  # æ‘˜è¦
    type: str = "recommend"            # ç±»å‹
    status: str = "draft"              # çŠ¶æ€
    priority: str = "normal"           # ä¼˜å…ˆçº§
    author: str = ""                   # ä½œè€…
    tags: List[str] = None             # æ ‡ç­¾
    category: str = ""                 # åˆ†ç±»
    image_url: str = ""                # å›¾ç‰‡URL
    video_url: str = ""                # è§†é¢‘URL
    seo_title: str = ""                # SEOæ ‡é¢˜
    seo_description: str = ""          # SEOæè¿°
    seo_keywords: str = ""             # SEOå…³é”®è¯
    view_count: int = 0                # æµè§ˆé‡
    like_count: int = 0                # ç‚¹èµæ•°
    comment_count: int = 0             # è¯„è®ºæ•°
    share_count: int = 0               # åˆ†äº«æ•°
    quality_score: float = 0.0         # è´¨é‡åˆ†æ•°
    audit_score: float = 0.0           # å®¡æ ¸åˆ†æ•°
    is_featured: bool = False          # æ˜¯å¦æ¨è
    is_top: bool = False               # æ˜¯å¦ç½®é¡¶
    publish_time: Optional[datetime] = None  # å‘å¸ƒæ—¶é—´
    expire_time: Optional[datetime] = None   # è¿‡æœŸæ—¶é—´
    created_at: Optional[datetime] = None    # åˆ›å»ºæ—¶é—´
    updated_at: Optional[datetime] = None    # æ›´æ–°æ—¶é—´
    created_by: str = ""               # åˆ›å»ºè€…
    updated_by: str = ""               # æ›´æ–°è€…
    audit_by: str = ""                 # å®¡æ ¸è€…
    audit_time: Optional[datetime] = None    # å®¡æ ¸æ—¶é—´
    audit_notes: str = ""              # å®¡æ ¸å¤‡æ³¨
    metadata: Dict[str, Any] = None    # å…ƒæ•°æ®
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•
python test_content_management.py

# æµ‹è¯•ç‰¹å®šåŠŸèƒ½
python -c "
from content_management_system import ContentManager
manager = ContentManager()
print('å†…å®¹ç®¡ç†å™¨åˆå§‹åŒ–æˆåŠŸ')
"
```

### æµ‹è¯•è¦†ç›–
- âœ… APIæ¥å£æµ‹è¯•
- âœ… å†…å®¹CRUDæµ‹è¯•
- âœ… å®¡æ ¸æµç¨‹æµ‹è¯•
- âœ… æ‰¹é‡æ“ä½œæµ‹è¯•
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•
- âœ… ç»Ÿè®¡åˆ†ææµ‹è¯•

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### æƒé™æ§åˆ¶
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- APIæ¥å£æƒé™éªŒè¯
- æ“ä½œæ—¥å¿—è®°å½•
- æ•æ„Ÿæ“ä½œç¡®è®¤

### å†…å®¹å®‰å…¨
- æ•æ„Ÿè¯è¿‡æ»¤
- åƒåœ¾ä¿¡æ¯æ£€æµ‹
- å†…å®¹è´¨é‡è¯„ä¼°
- è‡ªåŠ¨å®¡æ ¸æœºåˆ¶

### æ•°æ®ä¿æŠ¤
- è¾“å…¥éªŒè¯å’Œæ¸…ç†
- SQLæ³¨å…¥é˜²æŠ¤
- XSSæ”»å‡»é˜²æŠ¤
- CSRFä¿æŠ¤

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–
- ç´¢å¼•ä¼˜åŒ–
- æŸ¥è¯¢ä¼˜åŒ–
- åˆ†é¡µåŠ è½½
- ç¼“å­˜æœºåˆ¶

### å‰ç«¯ä¼˜åŒ–
- æ‡’åŠ è½½
- è™šæ‹Ÿæ»šåŠ¨
- å›¾ç‰‡å‹ç¼©
- ä»£ç åˆ†å‰²

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Python 3.7+
- Flask 2.0+
- SQLite/MySQL/PostgreSQL
- å¾®ä¿¡å¼€å‘è€…å·¥å…·

### å®‰è£…æ­¥éª¤
1. å…‹éš†é¡¹ç›®
2. å®‰è£…ä¾èµ–
3. é…ç½®æ•°æ®åº“
4. å¯åŠ¨æœåŠ¡
5. é…ç½®å°ç¨‹åº

### ç”Ÿäº§ç¯å¢ƒé…ç½®
- ä½¿ç”¨ç”Ÿäº§çº§æ•°æ®åº“
- é…ç½®åå‘ä»£ç†
- å¯ç”¨HTTPS
- è®¾ç½®ç›‘æ§å‘Šè­¦

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç 
4. åˆ›å»ºPull Request

### ä»£ç è§„èŒƒ
- éµå¾ªPEP 8è§„èŒƒ
- æ·»åŠ ç±»å‹æ³¨è§£
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°æ–‡æ¡£

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¸¸è§é—®é¢˜
1. **APIæ¥å£è¿”å›404**
   - æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
   - ç¡®è®¤APIè·¯å¾„æ­£ç¡®

2. **å†…å®¹åˆ›å»ºå¤±è´¥**
   - æ£€æŸ¥å¿…å¡«å­—æ®µ
   - éªŒè¯æ•°æ®æ ¼å¼

3. **å®¡æ ¸åŠŸèƒ½å¼‚å¸¸**
   - æ£€æŸ¥æƒé™é…ç½®
   - ç¡®è®¤å®¡æ ¸è§„åˆ™

### è”ç³»æ–¹å¼
- é‚®ç®±: support@tea-platform.com
- å¾®ä¿¡: tea-platform-support
- æ–‡æ¡£: https://docs.tea-platform.com

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºèŒ¶å¶å¹³å°å†…å®¹ç®¡ç†ç³»ç»Ÿåšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚

---

**èŒ¶å¶å¹³å°å†…å®¹ç®¡ç†ç³»ç»Ÿ** - è®©å†…å®¹ç®¡ç†æ›´ç®€å•ã€æ›´é«˜æ•ˆï¼ ğŸµ 