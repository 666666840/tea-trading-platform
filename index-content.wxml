<!-- pages/index/index.wxml - é¦–é¡µå†…å®¹å±•ç¤ºæ¨¡æ¿ -->

<view class="container">
  <!-- å†…å®¹Tabå¯¼èˆª -->
  <view class="content-tabs">
    <view class="tab-item {{currentTab === 'recommend' ? 'active' : ''}}" 
          data-tab="recommend" bindtap="switchTab">
      <text>æ¨è</text>
    </view>
    <view class="tab-item {{currentTab === 'news' ? 'active' : ''}}" 
          data-tab="news" bindtap="switchTab">
      <text>èŒ¶è®¯</text>
    </view>
    <view class="tab-item {{currentTab === 'art' ? 'active' : ''}}" 
          data-tab="art" bindtap="switchTab">
      <text>èŒ¶è‰º</text>
    </view>
    <view class="tab-item {{currentTab === 'hot' ? 'active' : ''}}" 
          data-tab="hot" bindtap="switchTab">
      <text>çƒ­ç‚¹</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æ¨èå†…å®¹ -->
  <view wx:if="{{currentTab === 'recommend' && !loading}}" class="content-list">
    <view wx:for="{{recommendList}}" wx:key="id" class="content-item" 
          data-item="{{item}}" bindtap="viewDetail">
      <text class="hot-icon" wx:if="{{item.isHot}}">ğŸ”¥</text>
      <view class="content-title">{{item.title}}</view>
      <view class="content-summary">{{item.content}}</view>
      <view class="content-time">{{item.create_time}}</view>
    </view>
    
    <view wx:if="{{recommendList.length === 0}}" class="empty-state">
      <text>æš‚æ— æ¨èå†…å®¹</text>
    </view>
  </view>

  <!-- èŒ¶è®¯å†…å®¹ -->
  <view wx:if="{{currentTab === 'news' && !loading}}" class="content-list">
    <view wx:for="{{newsList}}" wx:key="id" class="content-item" 
          data-item="{{item}}" bindtap="viewDetail">
      <text class="hot-icon" wx:if="{{item.isHot}}">ğŸ”¥</text>
      <view class="content-title">{{item.title}}</view>
      <view class="content-summary">{{item.content}}</view>
      <view class="content-time">{{item.create_time}}</view>
    </view>
    
    <view wx:if="{{newsList.length === 0}}" class="empty-state">
      <text>æš‚æ— èŒ¶è®¯å†…å®¹</text>
    </view>
  </view>

  <!-- èŒ¶è‰ºå†…å®¹ -->
  <view wx:if="{{currentTab === 'art' && !loading}}" class="content-list">
    <view wx:for="{{artList}}" wx:key="id" class="content-item" 
          data-item="{{item}}" bindtap="viewDetail">
      <text class="hot-icon" wx:if="{{item.isHot}}">ğŸ”¥</text>
      <view class="content-title">{{item.title}}</view>
      <view class="content-summary">{{item.content}}</view>
      <view class="content-time">{{item.create_time}}</view>
    </view>
    
    <view wx:if="{{artList.length === 0}}" class="empty-state">
      <text>æš‚æ— èŒ¶è‰ºå†…å®¹</text>
    </view>
  </view>

  <!-- çƒ­ç‚¹å†…å®¹ -->
  <view wx:if="{{currentTab === 'hot' && !loading}}" class="content-list">
    <view wx:for="{{hotList}}" wx:key="id" class="content-item" 
          data-item="{{item}}" bindtap="viewDetail">
      <text class="hot-icon" wx:if="{{item.isHot}}">ğŸ”¥</text>
      <view class="content-title">{{item.title}}</view>
      <view class="content-summary">{{item.content}}</view>
      <view class="content-time">{{item.create_time}}</view>
    </view>
    
    <view wx:if="{{hotList.length === 0}}" class="empty-state">
      <text>æš‚æ— çƒ­ç‚¹å†…å®¹</text>
    </view>
  </view>

  <!-- åˆ·æ–°æŒ‰é’® -->
  <view class="refresh-btn" bindtap="onRefresh">
    <text>åˆ·æ–°å†…å®¹</text>
  </view>

  <!-- æµ‹è¯•APIæŒ‰é’® -->
  <view class="test-btn" bindtap="testAPI">
    <text>æµ‹è¯•APIè¿æ¥</text>
  </view>
</view> 