<view class="detail-container" wx:if="{{arrivalInfo}}">
  <!-- å•†å“å›¾ç‰‡è½®æ’­ -->
  <swiper class="image-swiper" indicator-dots="{{true}}" autoplay="{{false}}">
    <swiper-item wx:for="{{arrivalInfo.images}}" wx:key="index">
      <image class="swiper-image" 
             src="{{item}}" 
             mode="aspectFill"
             data-index="{{index}}"
             bindtap="previewImage" />
    </swiper-item>
  </swiper>

  <!-- å•†å“åŸºæœ¬ä¿¡æ¯ -->
  <view class="info-section">
    <view class="product-title">{{arrivalInfo.name}}</view>
    
    <!-- å“ç±»æ ‡ç­¾ -->
    <view class="category-tag">{{arrivalInfo.category}}</view>
    
    <!-- ä»·æ ¼ä¿¡æ¯ -->
    <view class="price-section">
      <text class="price-range">Â¥{{arrivalInfo.priceRange}}/æ–¤</text>
      <text class="stock-info">{{arrivalInfo.stock}}</text>
    </view>

    <!-- åˆ°è´§æ—¶é—´ -->
    <view class="arrival-time">
      <text class="time-label">åˆ°è´§æ—¶é—´ï¼š</text>
      <text class="time-value">{{arrivalInfo.arrivalTime}}</text>
    </view>

    <!-- æµè§ˆé‡ -->
    <view class="view-count">
      <text class="count-text">{{arrivalInfo.viewCount}}äººæµè§ˆ</text>
    </view>
  </view>

  <!-- å•†å“ç‰¹è‰² -->
  <view class="features-section">
    <view class="section-title">å•†å“ç‰¹è‰²</view>
    <view class="features-list">
      <view class="feature-item" wx:for="{{arrivalInfo.features}}" wx:key="index">
        <text class="feature-icon">âœ“</text>
        <text class="feature-text">{{item}}</text>
      </view>
    </view>
  </view>

  <!-- å•†å“æè¿° -->
  <view class="description-section">
    <view class="section-title">å•†å“æè¿°</view>
    <view class="description-content">{{arrivalInfo.description}}</view>
  </view>

  <!-- å•†æˆ·ä¿¡æ¯ -->
  <view class="merchant-section">
    <view class="section-title">å•†æˆ·ä¿¡æ¯</view>
    <view class="merchant-info">
      <image class="merchant-avatar" src="{{merchantInfo.avatar}}" mode="aspectFill" />
      <view class="merchant-details">
        <view class="merchant-name">{{merchantInfo.name}}</view>
        <view class="merchant-rating">
          <text class="rating-text">ä¿¡ç”¨è¯„åˆ†ï¼š{{merchantInfo.rating}}</text>
          <text class="rating-stars">â˜…â˜…â˜…â˜…â˜…</text>
        </view>
        <view class="merchant-stats">
          <text class="stats-text">å·²å‘å¸ƒ{{merchantInfo.arrivalCount}}æ¬¡åˆ°è´§ä¿¡æ¯</text>
          <text class="stats-text">å…¥é©»æ—¶é—´ï¼š{{merchantInfo.joinTime}}</text>
        </view>
      </view>
    </view>

    <!-- è”ç³»æ–¹å¼ -->
    <view class="contact-section">
      <view class="contact-buttons">
        <button class="contact-btn wechat-btn" bindtap="contactMerchant">
          <text class="btn-icon">ğŸ’¬</text>
          <text class="btn-text">è”ç³»å•†æˆ·</text>
        </button>
        <button class="contact-btn hello-btn" bindtap="sayHello">
          <text class="btn-icon">ğŸ‘‹</text>
          <text class="btn-text">æ‰“æ‹›å‘¼</text>
        </button>
      </view>
    </view>
  </view>

  <!-- ç›¸å…³æ¨è -->
  <view class="related-section">
    <view class="section-title">ç›¸å…³æ¨è</view>
    <view class="related-list">
      <view class="related-item" 
            wx:for="{{relatedArrivals}}" 
            wx:key="id"
            data-id="{{item.id}}"
            bindtap="onRelatedTap">
        <image class="related-image" src="{{item.image}}" mode="aspectFill" />
        <view class="related-info">
          <text class="related-name">{{item.name}}</text>
          <text class="related-category">{{item.category}}</text>
          <text class="related-price">Â¥{{item.priceRange}}/æ–¤</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å‘å¸ƒä¿¡æ¯ -->
  <view class="publish-info">
    <text class="publish-text">å‘å¸ƒæ—¶é—´ï¼š{{arrivalInfo.createTime}}</text>
  </view>
</view>

<!-- åŠ è½½çŠ¶æ€ -->
<view class="loading-container" wx:else>
  <text class="loading-text">åŠ è½½ä¸­...</text>
</view> 