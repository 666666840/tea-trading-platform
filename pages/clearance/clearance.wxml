<view class="clearance-container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="header-left">
      <text class="header-title">å°¾è´§æ¸…ä»“</text>
      <text class="header-subtitle">ç‰¹ä»·ä¼˜æƒ ï¼Œæ¸…ä»“å¤„ç†</text>
    </view>
  </view>

  <!-- æ’åºæ  -->
  <view class="sort-bar">
    <view class="sort-item {{currentSort === item.value ? 'active' : ''}}" 
          wx:for="{{sortOptions}}" 
          wx:key="value"
          data-value="{{item.value}}"
          bindtap="onSortChange">
      {{item.label}}
    </view>
  </view>

  <!-- å•†å“åˆ—è¡¨ -->
  <view class="clearance-list">
    <view class="clearance-item {{item.isUrgent ? 'urgent' : ''}}" 
          wx:for="{{clearanceList}}" 
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="onItemTap">
      
      <!-- ç´§æ€¥æ ‡è¯† -->
      <view class="urgent-badge" wx:if="{{item.isUrgent}}">
        <text class="urgent-text">ç´§æ€¥</text>
      </view>
      
      <!-- VIPæ ‡è¯† -->
      <view class="vip-badge" wx:if="{{item.isVip}}">
        <text class="vip-text">VIP</text>
      </view>

      <view class="item-content">
        <!-- å•†å“å›¾ç‰‡ -->
        <view class="item-image">
          <image src="{{item.image}}" mode="aspectFill" />
        </view>

        <!-- å•†å“ä¿¡æ¯ -->
        <view class="item-info">
          <view class="item-title">{{item.name}}</view>
          
          <!-- æ¸…ä»“åŸå›  -->
          <view class="reason-tag">{{item.reason}}</view>
          
          <!-- ä»·æ ¼ä¿¡æ¯ -->
          <view class="price-section">
            <text class="original-price">Â¥{{item.originalPrice}}</text>
            <text class="clearance-price">Â¥{{item.clearancePrice}}</text>
            <text class="discount-tag">
              {{Math.floor((item.originalPrice - item.clearancePrice) / item.originalPrice * 100)}}%OFF
            </text>
          </view>
          
          <!-- åº“å­˜ä¿¡æ¯ -->
          <view class="stock-section">
            <text class="stock-text">{{item.stockText}}</text>
            <view class="stock-bar">
              <view class="stock-progress" style="width: {{item.stockPercent}}%"></view>
            </view>
            <text class="stock-percent">å‰©ä½™{{item.stockPercent}}%</text>
          </view>
          
          <!-- å€’è®¡æ—¶ -->
          <view class="countdown-section">
            <text class="countdown-label">é™æ—¶ç‰¹ä»·</text>
            <text class="countdown-time">{{item.countdown}}</text>
          </view>
          
          <!-- å…³æ³¨äººæ•° -->
          <view class="viewers-section">
            <text class="viewers-text">{{item.viewers}}äººæ­£åœ¨å…³æ³¨</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-section" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
  <view class="no-more" wx:if="{{!hasMore && clearanceList.length > 0}}">
    <text class="no-more-text">æ²¡æœ‰æ›´å¤šæ•°æ®äº†</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && clearanceList.length === 0}}">
    <image class="empty-image" src="/images/empty.png" mode="aspectFit" />
    <text class="empty-text">æš‚æ— ç‰¹ä»·å°¾è´§</text>
  </view>

  <!-- å‘å¸ƒæŒ‰é’® -->
  <view class="publish-btn" bindtap="navigateToPublish">
    <text class="publish-icon">ğŸ“</text>
    <text class="publish-text">å‘å¸ƒç‰¹ä»·å°¾è´§</text>
  </view>
</view> 