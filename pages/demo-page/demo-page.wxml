<!--é¡µé¢æ¨¡æ¿ - å¼€å‘è€…å’Œç”¨æˆ·ç•Œé¢åˆ†ç¦»æ¼”ç¤º-->
<view class="container">
  
  <!-- === ç”¨æˆ·ç•Œé¢ (æ‰€æœ‰ç¯å¢ƒä¸‹éƒ½æ˜¾ç¤º) === -->
  <view class="user-section">
    <view class="page-header user-header">
      <view class="title">{{userContent.title}}</view>
      <view class="subtitle">{{userContent.subtitle}}</view>
    </view>

    <!-- ç”¨æˆ·åŠŸèƒ½åŒº -->
    <view class="features-grid">
      <view 
        wx:for="{{userContent.features}}" 
        wx:key="name"
        class="feature-item user-feature"
        data-name="{{item.name}}"
        bindtap="onUserFeatureTap"
      >
        <view class="feature-icon">{{item.icon}}</view>
        <view class="feature-content">
          <view class="feature-name">{{item.name}}</view>
          <view class="feature-desc">{{item.desc}}</view>
        </view>
      </view>
    </view>

    <!-- ç”¨æˆ·æ“ä½œæŒ‰é’® -->
    <view class="user-actions">
      <button class="action-btn primary" bindtap="viewProducts">
        ğŸ«– æŸ¥çœ‹èŒ¶å¶äº§å“
      </button>
      <button class="action-btn secondary" bindtap="contactService">
        ğŸ“ è”ç³»å®¢æœ
      </button>
    </view>
  </view>

  <!-- === å¼€å‘è€…ç•Œé¢ (ä»…å¼€å‘/æµ‹è¯•ç¯å¢ƒæ˜¾ç¤º) === -->
  <view class="developer-section" wx:if="{{canShowDevTools}}">
    
    <!-- ç¯å¢ƒæ ‡è¯†æ¨ªå¹… -->
    <view class="env-banner {{isDeveloper ? 'dev-mode' : isTester ? 'test-mode' : 'prod-mode'}}">
      <view class="env-icon">
        {{isDeveloper ? 'ğŸ”§' : isTester ? 'ğŸ§ª' : 'ğŸ”µ'}}
      </view>
      <view class="env-text">
        <view class="env-title">
          {{isDeveloper ? 'å¼€å‘è€…æ¨¡å¼' : isTester ? 'æµ‹è¯•æ¨¡å¼' : 'ç”Ÿäº§æ¨¡å¼'}}
        </view>
        <view class="env-desc">
          {{isDeveloper ? 'å®Œæ•´å¼€å‘è°ƒè¯•åŠŸèƒ½' : isTester ? 'å†…æµ‹éªŒæ”¶ç¯å¢ƒ' : 'ç”¨æˆ·æ­£å¼ç‰ˆæœ¬'}}
        </view>
      </view>
      <view class="env-action" bindtap="showEnvironmentInfo">â„¹ï¸</view>
    </view>

    <!-- å¼€å‘è€…åŠŸèƒ½åŒº -->
    <view class="dev-header">
      <view class="title">{{developerContent.title}}</view>
      <view class="subtitle">{{developerContent.subtitle}}</view>
    </view>

    <!-- å¼€å‘å·¥å…·ç½‘æ ¼ -->
    <view class="features-grid dev-grid">
      <view 
        wx:for="{{developerContent.features}}" 
        wx:key="name"
        class="feature-item dev-feature"
        data-action="{{item.action}}"
        bindtap="onDeveloperFeatureTap"
      >
        <view class="feature-icon">{{item.icon}}</view>
        <view class="feature-content">
          <view class="feature-name">{{item.name}}</view>
          <view class="feature-desc">{{item.desc}}</view>
        </view>
      </view>
    </view>

    <!-- å®æ—¶æ•°æ®ç›‘æ§ (ä»…å¼€å‘è€…æ¨¡å¼) -->
    <view class="data-monitor" wx:if="{{isDeveloper}}">
      <view class="monitor-title">ğŸ“Š å®æ—¶ç›‘æ§æ•°æ®</view>
      <view class="monitor-grid">
        <view class="monitor-item">
          <view class="monitor-value">{{testData.apiCalls}}</view>
          <view class="monitor-label">APIè°ƒç”¨</view>
        </view>
        <view class="monitor-item">
          <view class="monitor-value error">{{testData.errorCount}}</view>
          <view class="monitor-label">é”™è¯¯æ¬¡æ•°</view>
        </view>
        <view class="monitor-item">
          <view class="monitor-value">{{testData.responseTime}}</view>
          <view class="monitor-label">å“åº”æ—¶é—´</view>
        </view>
        <view class="monitor-item">
          <view class="monitor-value">{{testData.userCount}}</view>
          <view class="monitor-label">åœ¨çº¿ç”¨æˆ·</view>
        </view>
      </view>
      <view class="monitor-update">
        æœ€åæ›´æ–°: {{testData.lastUpdate}}
      </view>
    </view>

    <!-- å¼€å‘è€…æ“ä½œæŒ‰é’® -->
    <view class="dev-actions">
      <button class="action-btn dev-primary" bindtap="exportEnvironmentConfig">
        ğŸ“‹ å¯¼å‡ºç¯å¢ƒé…ç½®
      </button>
      <button class="action-btn dev-secondary" bindtap="refreshEnvironment">
        ğŸ”„ åˆ·æ–°ç¯å¢ƒçŠ¶æ€
      </button>
    </view>

    <!-- è­¦å‘Šæç¤º -->
    <view class="dev-warning">
      âš ï¸ å¼€å‘è€…åŠŸèƒ½åŒºåŸŸ - æ™®é€šç”¨æˆ·çœ‹ä¸åˆ°æ­¤åŒºåŸŸçš„ä»»ä½•å†…å®¹
    </view>
  </view>

  <!-- === ç¯å¢ƒä¿¡æ¯æ  (åº•éƒ¨) === -->
  <view class="env-info-bar">
    <view class="env-status">
      <text class="status-text">ç¯å¢ƒ: {{isDeveloper ? 'å¼€å‘ç‰ˆ' : isTester ? 'ä½“éªŒç‰ˆ' : 'æ­£å¼ç‰ˆ'}}</text>
      <text class="status-dot {{isDeveloper ? 'dev' : isTester ? 'test' : 'prod'}}">â—</text>
    </view>
    <view class="env-toggle" wx:if="{{canShowDevTools}}" bindtap="showEnvironmentInfo">
      æŸ¥çœ‹è¯¦æƒ… >
    </view>
  </view>

</view> 