# ğŸ‰ èŒ¶å¶å¹³å°ç‹¬ç«‹ç®¡ç†åå°éƒ¨ç½²å®ŒæˆæŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è¿°

æ­å–œï¼æ‚¨å·²ç»æˆåŠŸéƒ¨ç½²äº†èŒ¶å¶å¹³å°çš„ç‹¬ç«‹ç®¡ç†åå°ç³»ç»Ÿã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å®Œæˆåç»­é…ç½®å’Œå¼€å§‹ä½¿ç”¨ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Windows ç”¨æˆ·

1. **è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬**
   ```bash
   # åŒå‡»è¿è¡Œ
   ç‹¬ç«‹ç®¡ç†åå°ä¸€é”®éƒ¨ç½².bat
   ```

2. **é…ç½®æ•°æ®åº“**
   - ç¼–è¾‘ `C:\tea-admin\.env` æ–‡ä»¶
   - ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯

3. **åˆå§‹åŒ–æ•°æ®åº“**
   ```bash
   # è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
   C:\tea-admin\init_db.bat
   ```

4. **åˆ›å»ºç®¡ç†å‘˜è´¦å·**
   ```bash
   # è¿è¡Œç®¡ç†å‘˜åˆ›å»ºè„šæœ¬
   C:\tea-admin\create_admin.bat
   ```

5. **å¯åŠ¨æœåŠ¡**
   ```bash
   # è¿è¡Œå¯åŠ¨è„šæœ¬
   C:\tea-admin\start_admin.bat
   ```

### Linux ç”¨æˆ·

1. **è¿è¡Œéƒ¨ç½²è„šæœ¬**
   ```bash
   # ç»™è„šæœ¬æ‰§è¡Œæƒé™
   chmod +x ç‹¬ç«‹ç®¡ç†åå°Linuxéƒ¨ç½².sh
   
   # è¿è¡Œéƒ¨ç½²è„šæœ¬
   ./ç‹¬ç«‹ç®¡ç†åå°Linuxéƒ¨ç½².sh
   ```

2. **é…ç½®ç¯å¢ƒ**
   ```bash
   # ç¼–è¾‘ç¯å¢ƒé…ç½®æ–‡ä»¶
   sudo nano /var/www/tea-admin/.env
   ```

3. **åˆå§‹åŒ–æ•°æ®åº“**
   ```bash
   # è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–
   /var/www/tea-admin/init_db.sh
   ```

4. **åˆ›å»ºç®¡ç†å‘˜è´¦å·**
   ```bash
   # åˆ›å»ºç®¡ç†å‘˜
   /var/www/tea-admin/create_admin.sh
   ```

5. **å¯åŠ¨æœåŠ¡**
   ```bash
   # å¯åŠ¨æœåŠ¡
   sudo systemctl start tea-admin
   
   # æŸ¥çœ‹çŠ¶æ€
   sudo systemctl status tea-admin
   ```

## ğŸŒ è®¿é—®ç®¡ç†åå°

### æœ¬åœ°è®¿é—®
- **åœ°å€**: http://localhost:8080
- **é»˜è®¤è´¦å·**: admin
- **é»˜è®¤å¯†ç **: admin123456

### è¿œç¨‹è®¿é—®ï¼ˆLinuxï¼‰
- **åœ°å€**: http://your-server-ip:8080
- **æˆ–**: https://admin.tea-platform.com (éœ€è¦é…ç½®åŸŸåå’ŒSSL)

## âš™ï¸ é‡è¦é…ç½®

### 1. ç¯å¢ƒé…ç½®æ–‡ä»¶ (.env)

```bash
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_NAME=tea_admin
DB_USER=tea_admin
DB_PASSWORD=your_secure_password

# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# åº”ç”¨é…ç½®
APP_SECRET=your_secure_secret_key
APP_ENV=production
APP_DEBUG=false

# ç®¡ç†åå°é…ç½®
ADMIN_PORT=8080
ADMIN_HOST=0.0.0.0

# å®‰å…¨é…ç½®
JWT_SECRET=your_jwt_secret
SESSION_SECRET=your_session_secret

# é‚®ä»¶é…ç½®
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=REPLACE_WITH_YOUR_ACTUAL_EMAIL_PASSWORD

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_PATH=/var/www/tea-admin/uploads
MAX_FILE_SIZE=10485760
```

### 2. å®‰å…¨é…ç½®

#### ä¿®æ”¹é»˜è®¤å¯†ç 
1. ç™»å½•ç®¡ç†åå°
2. è¿›å…¥"ä¸ªäººèµ„æ–™"é¡µé¢
3. ç‚¹å‡»"ä¿®æ”¹å¯†ç "
4. è®¾ç½®å¼ºå¯†ç 

#### é…ç½®SSLè¯ä¹¦ï¼ˆLinuxï¼‰
```bash
# å®‰è£…Certbot
sudo apt install -y certbot python3-certbot-nginx

# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d admin.tea-platform.com

# è®¾ç½®è‡ªåŠ¨ç»­æœŸ
sudo crontab -e
# æ·»åŠ : 0 12 * * * /usr/bin/certbot renew --quiet
```

### 3. æ•°æ®åº“é…ç½®

#### MySQLå®‰å…¨é…ç½®
```bash
# è¿è¡ŒMySQLå®‰å…¨é…ç½®
sudo mysql_secure_installation

# åˆ›å»ºä¸“ç”¨æ•°æ®åº“ç”¨æˆ·
sudo mysql -u root -p
CREATE DATABASE tea_admin CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'tea_admin'@'localhost' IDENTIFIED BY 'your_secure_password';
GRANT ALL PRIVILEGES ON tea_admin.* TO 'tea_admin'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

## ğŸ”§ ç®¡ç†å‘½ä»¤

### Windows ç®¡ç†å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
C:\tea-admin\start_admin.bat

# åœæ­¢æœåŠ¡
C:\tea-admin\stop_admin.bat

# åˆå§‹åŒ–æ•°æ®åº“
C:\tea-admin\init_db.bat

# åˆ›å»ºç®¡ç†å‘˜
C:\tea-admin\create_admin.bat
```

### Linux ç®¡ç†å‘½ä»¤

```bash
# ç³»ç»ŸæœåŠ¡ç®¡ç†
sudo systemctl start tea-admin      # å¯åŠ¨æœåŠ¡
sudo systemctl stop tea-admin       # åœæ­¢æœåŠ¡
sudo systemctl restart tea-admin    # é‡å¯æœåŠ¡
sudo systemctl status tea-admin     # æŸ¥çœ‹çŠ¶æ€
sudo systemctl enable tea-admin     # å¼€æœºè‡ªå¯

# æ—¥å¿—æŸ¥çœ‹
sudo journalctl -u tea-admin -f     # å®æ—¶æ—¥å¿—
sudo journalctl -u tea-admin -n 100 # æœ€è¿‘100è¡Œæ—¥å¿—

# ç®¡ç†è„šæœ¬
/var/www/tea-admin/start_admin.sh   # å¯åŠ¨
/var/www/tea-admin/stop_admin.sh    # åœæ­¢
/var/www/tea-admin/restart_admin.sh # é‡å¯
/var/www/tea-admin/status_admin.sh  # çŠ¶æ€
/var/www/tea-admin/logs_admin.sh    # æ—¥å¿—
/var/www/tea-admin/init_db.sh       # åˆå§‹åŒ–æ•°æ®åº“
/var/www/tea-admin/create_admin.sh  # åˆ›å»ºç®¡ç†å‘˜
/var/www/tea-admin/backup.sh        # å¤‡ä»½
```

## ğŸ’¾ å¤‡ä»½å’Œæ¢å¤

### è‡ªåŠ¨å¤‡ä»½ï¼ˆLinuxï¼‰
```bash
# è®¾ç½®å®šæ—¶å¤‡ä»½ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹ï¼‰
crontab -e
# æ·»åŠ : 0 2 * * * /var/www/tea-admin/backup.sh

# æ‰‹åŠ¨å¤‡ä»½
/var/www/tea-admin/backup.sh
```

### å¤‡ä»½å†…å®¹
- æ•°æ®åº“å¤‡ä»½ï¼š`/var/backups/tea-admin/db_backup_YYYYMMDD_HHMMSS.sql`
- æ–‡ä»¶å¤‡ä»½ï¼š`/var/backups/tea-admin/files_backup_YYYYMMDD_HHMMSS.tar.gz`

### æ¢å¤æ•°æ®
```bash
# æ¢å¤æ•°æ®åº“
mysql -u tea_admin -p tea_admin < /var/backups/tea-admin/db_backup_20240101_020000.sql

# æ¢å¤æ–‡ä»¶
tar -xzf /var/backups/tea-admin/files_backup_20240101_020000.tar.gz -C /var/www/tea-admin/
```

## ğŸ” å®‰å…¨å»ºè®®

### 1. ç½‘ç»œå®‰å…¨
- ä½¿ç”¨VPNè®¿é—®ç®¡ç†åå°
- é…ç½®IPç™½åå•
- å¯ç”¨åŒå› ç´ è®¤è¯
- å®šæœŸæ›´æ–°SSLè¯ä¹¦

### 2. ç³»ç»Ÿå®‰å…¨
- å®šæœŸæ›´æ–°ç³»ç»Ÿå’Œè½¯ä»¶
- ä½¿ç”¨å¼ºå¯†ç ç­–ç•¥
- å¯ç”¨ç™»å½•å¤±è´¥é™åˆ¶
- ç›‘æ§å¼‚å¸¸è®¿é—®

### 3. æ•°æ®å®‰å…¨
- å®šæœŸå¤‡ä»½æ•°æ®
- åŠ å¯†æ•æ„Ÿæ•°æ®
- é™åˆ¶æ•°æ®åº“è®¿é—®
- ç›‘æ§æ•°æ®å˜æ›´

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### ç³»ç»Ÿç›‘æ§
```bash
# æŸ¥çœ‹ç³»ç»Ÿèµ„æº
htop                    # CPUå’Œå†…å­˜ä½¿ç”¨
df -h                   # ç£ç›˜ä½¿ç”¨
free -h                 # å†…å­˜ä½¿ç”¨
netstat -tlnp           # ç«¯å£ç›‘å¬

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status tea-admin nginx mysql redis
```

### æ—¥å¿—ç›‘æ§
```bash
# ç®¡ç†åå°æ—¥å¿—
sudo journalctl -u tea-admin -f

# Nginxè®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/access.log

# Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/error.log

# MySQLæ—¥å¿—
sudo tail -f /var/log/mysql/error.log
```

### å®šæœŸç»´æŠ¤
```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# æ›´æ–°ç®¡ç†åå°
cd /var/www/tea-admin
git pull origin main
pip install -r requirements.txt
sudo systemctl restart tea-admin

# æ¸…ç†æ—¥å¿—
sudo journalctl --vacuum-time=30d
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æœåŠ¡æ— æ³•å¯åŠ¨**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   sudo netstat -tlnp | grep 8080
   
   # æ£€æŸ¥é…ç½®æ–‡ä»¶
   sudo nginx -t
   
   # æŸ¥çœ‹è¯¦ç»†é”™è¯¯
   sudo journalctl -u tea-admin -n 50
   ```

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥MySQLæœåŠ¡
   sudo systemctl status mysql
   
   # æµ‹è¯•æ•°æ®åº“è¿æ¥
   mysql -u tea_admin -p -h localhost
   
   # æ£€æŸ¥é˜²ç«å¢™
   sudo ufw status
   ```

3. **SSLè¯ä¹¦è¿‡æœŸ**
   ```bash
   # æ‰‹åŠ¨æ›´æ–°è¯ä¹¦
   sudo certbot renew
   
   # é‡å¯Nginx
   sudo systemctl restart nginx
   ```

4. **è®¿é—®æƒé™è¢«æ‹’ç»**
   ```bash
   # æ£€æŸ¥æ–‡ä»¶æƒé™
   ls -la /var/www/tea-admin/
   
   # ä¿®å¤æƒé™
   sudo chown -R www-data:www-data /var/www/tea-admin/
   sudo chmod -R 755 /var/www/tea-admin/
   ```

### è”ç³»æ”¯æŒ

å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒï¼š
- **æŠ€æœ¯æ”¯æŒ**: admin@tea-platform.com
- **ç´§æ€¥è”ç³»**: +86-xxx-xxxx-xxxx
- **æ–‡æ¡£åœ°å€**: https://docs.tea-platform.com

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **å®ŒæˆåŸºç¡€é…ç½®**
   - ä¿®æ”¹é»˜è®¤å¯†ç 
   - é…ç½®é‚®ä»¶æœåŠ¡
   - è®¾ç½®å¤‡ä»½ç­–ç•¥

2. **å¯¼å…¥æ•°æ®**
   - å¯¼å…¥èŒ¶å¶å¸‚åœºæ•°æ®
   - å¯¼å…¥å•†æˆ·ä¿¡æ¯
   - é…ç½®ç³»ç»Ÿè®¾ç½®

3. **åŸ¹è®­ç”¨æˆ·**
   - ç®¡ç†å‘˜åŸ¹è®­
   - æ“ä½œæ‰‹å†Œ
   - å®‰å…¨åŸ¹è®­

4. **ç›‘æ§è¿è¡Œ**
   - è®¾ç½®ç›‘æ§å‘Šè­¦
   - å®šæœŸå®‰å…¨æ£€æŸ¥
   - æ€§èƒ½ä¼˜åŒ–

---

**æ­å–œæ‚¨æˆåŠŸéƒ¨ç½²äº†èŒ¶å¶å¹³å°ç‹¬ç«‹ç®¡ç†åå°ï¼** ğŸ‰

ç°åœ¨æ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨è¿™ä¸ªå®‰å…¨ã€ç‹¬ç«‹çš„ç®¡ç†ç³»ç»Ÿæ¥ç®¡ç†æ‚¨çš„èŒ¶å¶å¹³å°äº†ã€‚ 