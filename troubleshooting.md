# éƒ¨ç½²æ•…éšœæ’é™¤æŒ‡å—

## ğŸ”— è¿æ¥é—®é¢˜

### æ— æ³•è¿æ¥æœåŠ¡å™¨
**ç—‡çŠ¶**ï¼šSSHè¿æ¥è¶…æ—¶æˆ–æ‹’ç»è¿æ¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æœåŠ¡å™¨IPæ˜¯å¦æ­£ç¡®
2. ç¡®è®¤å®‰å…¨ç»„å¼€æ”¾äº†22ç«¯å£
3. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
4. å°è¯•pingæœåŠ¡å™¨IP

```bash
# æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
ping æ‚¨çš„æœåŠ¡å™¨IP

# æ£€æŸ¥ç«¯å£å¼€æ”¾
telnet æ‚¨çš„æœåŠ¡å™¨IP 22
```

### å¯†ç é”™è¯¯
**ç—‡çŠ¶**ï¼šè®¤è¯å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å¯†ç è¾“å…¥æ­£ç¡®
2. æ£€æŸ¥å¤§å°å†™é”å®š
3. é‡ç½®æœåŠ¡å™¨å¯†ç ï¼ˆè…¾è®¯äº‘æ§åˆ¶å°ï¼‰

## ğŸ“¦ å®‰è£…é—®é¢˜

### Node.jså®‰è£…å¤±è´¥
**ç—‡çŠ¶**ï¼šyum install nodejså¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†yumç¼“å­˜
yum clean all
yum makecache

# é‡æ–°å®‰è£…NodeSourceä»“åº“
curl -fsSL https://rpm.nodesource.com/setup_18.x | bash -
yum install -y nodejs
```

### npmå®‰è£…åŒ…å¤±è´¥
**ç—‡çŠ¶**ï¼šnpm installè¶…æ—¶æˆ–å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# æ¸…ç†npmç¼“å­˜
npm cache clean --force

# é‡æ–°å®‰è£…
npm install
```

## ğŸš€ æœåŠ¡é—®é¢˜

### PM2æœåŠ¡å¯åŠ¨å¤±è´¥
**ç—‡çŠ¶**ï¼špm2 startå¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥PM2çŠ¶æ€
pm2 status

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs smart-tea-crawler

# é‡å¯æœåŠ¡
pm2 restart smart-tea-crawler

# é‡æ–°å®‰è£…PM2
npm uninstall -g pm2
npm install -g pm2
```

### é‡‡é›†è„šæœ¬æ‰§è¡Œå¤±è´¥
**ç—‡çŠ¶**ï¼šå†…å®¹é‡‡é›†å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥è„šæœ¬æƒé™
chmod +x smart-tea-crawler.js

# æ‰‹åŠ¨è¿è¡Œæµ‹è¯•
node smart-tea-crawler.js

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
node --trace-warnings smart-tea-crawler.js
```

## ğŸŒ ç½‘ç»œé—®é¢˜

### æ— æ³•è®¿é—®è¾“å‡ºæ–‡ä»¶
**ç—‡çŠ¶**ï¼šhttp://æœåŠ¡å™¨IP/content.jsonæ— æ³•è®¿é—®
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥NginxçŠ¶æ€
systemctl status nginx

# å¯åŠ¨Nginx
systemctl start nginx
systemctl enable nginx

# æ£€æŸ¥é˜²ç«å¢™
firewall-cmd --list-all
firewall-cmd --permanent --add-service=http
firewall-cmd --reload
```

### åŸŸåè§£æé—®é¢˜
**ç—‡çŠ¶**ï¼šåŸŸåæ— æ³•è®¿é—®
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥åŸŸåè§£æè®¾ç½®
2. ç¡®è®¤Aè®°å½•æŒ‡å‘æœåŠ¡å™¨IP
3. ç­‰å¾…DNSç”Ÿæ•ˆï¼ˆæœ€å¤š24å°æ—¶ï¼‰

## ğŸ’¾ å­˜å‚¨é—®é¢˜

### ç£ç›˜ç©ºé—´ä¸è¶³
**ç—‡çŠ¶**ï¼šå†™å…¥å¤±è´¥ï¼Œç£ç›˜ç©ºé—´ä¸è¶³
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ç£ç›˜ä½¿ç”¨
df -h

# æ¸…ç†æ—¥å¿—æ–‡ä»¶
find /var/log -name "*.log" -mtime +7 -delete

# æ¸…ç†npmç¼“å­˜
npm cache clean --force

# æ¸…ç†yumç¼“å­˜
yum clean all
```

### æ–‡ä»¶æƒé™é—®é¢˜
**ç—‡çŠ¶**ï¼šæƒé™è¢«æ‹’ç»
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä¿®æ”¹æ–‡ä»¶æƒé™
chmod 755 /usr/share/nginx/html
chown -R nginx:nginx /usr/share/nginx/html

# ä¿®æ”¹é¡¹ç›®ç›®å½•æƒé™
chmod -R 755 /home/tea-crawler
```

## ğŸ“Š æ€§èƒ½é—®é¢˜

### å†…å­˜ä¸è¶³
**ç—‡çŠ¶**ï¼šæœåŠ¡è¿è¡Œç¼“æ…¢æˆ–å´©æºƒ
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥å†…å­˜ä½¿ç”¨ï¼š`free -h`
2. å¢åŠ swapç©ºé—´
3. ä¼˜åŒ–Node.jså†…å­˜è®¾ç½®
4. è€ƒè™‘å‡çº§æœåŠ¡å™¨é…ç½®

### CPUä½¿ç”¨ç‡è¿‡é«˜
**ç—‡çŠ¶**ï¼šç³»ç»Ÿå“åº”ç¼“æ…¢
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹è¿›ç¨‹å ç”¨
top
htop

# æ£€æŸ¥PM2è¿›ç¨‹
pm2 monit

# ä¼˜åŒ–é‡‡é›†é¢‘ç‡
# ä¿®æ”¹smart-tea-crawler.jsä¸­çš„å®šæ—¶è®¾ç½®
```

## ğŸ”§ æ—¥å¿—åˆ†æ

### æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
```bash
# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
journalctl -f

# æŸ¥çœ‹Nginxæ—¥å¿—
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# æŸ¥çœ‹PM2æ—¥å¿—
pm2 logs smart-tea-crawler
```

### å¸¸è§é”™è¯¯ä»£ç 
- **EADDRINUSE**: ç«¯å£è¢«å ç”¨
- **ENOENT**: æ–‡ä»¶ä¸å­˜åœ¨
- **EACCES**: æƒé™ä¸è¶³
- **ECONNREFUSED**: è¿æ¥è¢«æ‹’ç»
- **ETIMEDOUT**: è¿æ¥è¶…æ—¶

## ğŸ“ è·å–å¸®åŠ©

### è…¾è®¯äº‘æ”¯æŒ
- æ§åˆ¶å° â†’ å·¥å• â†’ æäº¤å·¥å•
- æŠ€æœ¯æ”¯æŒçƒ­çº¿ï¼š4009-100-100

### ç¤¾åŒºæ”¯æŒ
- Node.jså®˜æ–¹æ–‡æ¡£
- PM2å®˜æ–¹æ–‡æ¡£
- è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº 