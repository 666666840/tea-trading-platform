# å¤šé€‰åŠŸèƒ½é—®é¢˜è¯Šæ–­ä¸ä¿®å¤æŒ‡å—

## ğŸš¨ é—®é¢˜æè¿°
ç”¨æˆ·åé¦ˆèŒ¶å›­åŸºæœ¬ä¿¡æ¯è¡¨å•ä¸­çš„èŒ¶å¶ç±»å‹å’Œç‰¹è‰²æ ‡ç­¾å¤šé€‰é€‰é¡¹æ— æ³•é€‰ä¸­ã€‚

## ğŸ” é—®é¢˜è¯Šæ–­

### 1. ä»£ç é€»è¾‘åˆ†æ
ç»è¿‡ä»£ç åˆ†æï¼Œå¤šé€‰åŠŸèƒ½çš„é€»è¾‘å®ç°æ˜¯æ­£ç¡®çš„ï¼š
- âœ… äº‹ä»¶ç»‘å®šæ­£ç¡® (`bindtap="onTeaTypeToggle"`)
- âœ… æ•°æ®ä¼ é€’æ­£ç¡® (`data-tea-type="{{item}}"`)
- âœ… æ•°ç»„æ“ä½œæ­£ç¡® (ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦)
- âœ… setDataè°ƒç”¨æ­£ç¡®
- âœ… CSSæ ·å¼æ­£ç¡®

### 2. å¯èƒ½çš„é—®é¢˜åŸå› 

#### A. å¾®ä¿¡å¼€å‘è€…å·¥å…·é—®é¢˜
- **ç¼“å­˜é—®é¢˜**: å¼€å‘è€…å·¥å…·ç¼“å­˜å¯¼è‡´ä»£ç æœªæ›´æ–°
- **ç¼–è¯‘é—®é¢˜**: ä»£ç ç¼–è¯‘å¤±è´¥æˆ–æœªé‡æ–°ç¼–è¯‘
- **ç‰ˆæœ¬é—®é¢˜**: å¼€å‘è€…å·¥å…·ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜

#### B. è¿è¡Œæ—¶é—®é¢˜
- **JavaScripté”™è¯¯**: å…¶ä»–ä»£ç é”™è¯¯å¯¼è‡´é¡µé¢åŠŸèƒ½å¼‚å¸¸
- **ç½‘ç»œé—®é¢˜**: ç½‘ç»œè¯·æ±‚å¤±è´¥å½±å“é¡µé¢åŠ è½½
- **æƒé™é—®é¢˜**: å°ç¨‹åºæƒé™é…ç½®é—®é¢˜

#### C. ç”¨æˆ·ä½“éªŒé—®é¢˜
- **ç‚¹å‡»åŒºåŸŸ**: æ ‡ç­¾ç‚¹å‡»åŒºåŸŸå¤ªå°
- **è§†è§‰åé¦ˆ**: é€‰ä¸­çŠ¶æ€ä¸æ˜æ˜¾
- **æ“ä½œä¹ æƒ¯**: ç”¨æˆ·ä¸ç†Ÿæ‚‰å¤šé€‰æ“ä½œ

## ğŸ› ï¸ ä¿®å¤æ–¹æ¡ˆ

### 1. ç«‹å³ä¿®å¤æªæ–½

#### A. æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç¼–è¯‘
```bash
# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š
1. ç‚¹å‡»"æ¸…ç¼“å­˜" -> "æ¸…é™¤å…¨éƒ¨ç¼“å­˜"
2. ç‚¹å‡»"ç¼–è¯‘" -> "é‡æ–°ç¼–è¯‘"
3. é‡å¯å¼€å‘è€…å·¥å…·
```

#### B. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯
```javascript
// åœ¨é¡µé¢ä¸­æ·»åŠ è°ƒè¯•ä»£ç 
onLoad() {
  console.log('é¡µé¢åŠ è½½å®Œæˆ')
  console.log('åˆå§‹æ•°æ®:', this.data)
},

onTeaTypeToggle(e) {
  console.log('=== èŒ¶å¶ç±»å‹ç‚¹å‡»äº‹ä»¶ ===')
  console.log('äº‹ä»¶å¯¹è±¡:', e)
  console.log('å½“å‰æ•°æ®:', this.data.formData.teaTypes)
  
  // ... åŸæœ‰é€»è¾‘
  
  console.log('æ›´æ–°åæ•°æ®:', this.data.formData.teaTypes)
}
```

#### C. å¢å¼ºé”™è¯¯å¤„ç†
```javascript
// èŒ¶å¶ç±»å‹åˆ‡æ¢
onTeaTypeToggle(e) {
  try {
    console.log('èŒ¶å¶ç±»å‹ç‚¹å‡»äº‹ä»¶è§¦å‘', e)
    const { teaType } = e.currentTarget.dataset
    console.log('é€‰ä¸­çš„èŒ¶å¶ç±»å‹:', teaType)
    
    if (!teaType) {
      console.error('èŒ¶å¶ç±»å‹æ•°æ®ä¸ºç©º')
      wx.showToast({
        title: 'æ•°æ®é”™è¯¯ï¼Œè¯·é‡è¯•',
        icon: 'none'
      })
      return
    }
    
    const teaTypes = [...this.data.formData.teaTypes]
    const index = teaTypes.indexOf(teaType)
    
    if (index > -1) {
      teaTypes.splice(index, 1)
      console.log('ç§»é™¤èŒ¶å¶ç±»å‹:', teaType)
    } else {
      teaTypes.push(teaType)
      console.log('æ·»åŠ èŒ¶å¶ç±»å‹:', teaType)
    }
    
    this.setData({
      'formData.teaTypes': teaTypes
    })
    
    console.log('å½“å‰èŒ¶å¶ç±»å‹:', teaTypes)
    
    // å®æ—¶éªŒè¯
    this.validateField('teaTypes', teaTypes)
    
  } catch (error) {
    console.error('èŒ¶å¶ç±»å‹åˆ‡æ¢é”™è¯¯:', error)
    wx.showToast({
      title: 'æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•',
      icon: 'none'
    })
  }
}
```

### 2. ç”¨æˆ·ä½“éªŒä¼˜åŒ–

#### A. å¢å¼ºè§†è§‰åé¦ˆ
```css
/* å¢å¼ºç‚¹å‡»åŒºåŸŸå’Œè§†è§‰åé¦ˆ */
.tea-type-tag {
  padding: 15rpx 25rpx;  /* å¢åŠ å†…è¾¹è· */
  border-radius: 25rpx;
  font-size: 28rpx;      /* å¢åŠ å­—ä½“å¤§å° */
  background: #f8f9fa;
  color: #666;
  border: 2rpx solid #e9ecef;
  transition: all 0.3s ease;
  cursor: pointer;
  user-select: none;
  position: relative;
  overflow: hidden;
  min-height: 60rpx;     /* ç¡®ä¿æœ€å°é«˜åº¦ */
  display: flex;
  align-items: center;
  justify-content: center;
}

.tea-type-tag:active {
  transform: scale(0.95);
  background: #e9ecef;
  box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.1);
}

.tea-type-tag.selected {
  background: #2196F3;
  color: white;
  border-color: #2196F3;
  box-shadow: 0 2rpx 8rpx rgba(33,150,243,0.3);
}

.tea-type-tag.selected:active {
  background: #1976D2;
  transform: scale(0.95);
  box-shadow: 0 1rpx 4rpx rgba(33,150,243,0.5);
}
```

#### B. æ·»åŠ æ“ä½œæç¤º
```xml
<!-- åœ¨èŒ¶å¶ç±»å‹æ ‡ç­¾ä¸Šæ–¹æ·»åŠ æç¤º -->
<view class="form-item">
  <view class="form-label">
    <text class="label-text">èŒ¶å¶ç±»å‹</text>
    <text class="required">*</text>
    <text class="label-desc">ï¼ˆå¯å¤šé€‰ï¼‰</text>
  </view>
  <view class="selection-tip">
    <text class="tip-text">ğŸ’¡ ç‚¹å‡»æ ‡ç­¾è¿›è¡Œé€‰æ‹©ï¼Œå¯å¤šé€‰</text>
  </view>
  <view class="tea-type-tags">
    <!-- åŸæœ‰æ ‡ç­¾ä»£ç  -->
  </view>
</view>
```

#### C. æ·»åŠ é€‰æ‹©çŠ¶æ€æ˜¾ç¤º
```xml
<!-- åœ¨æ ‡ç­¾ä¸‹æ–¹æ˜¾ç¤ºé€‰æ‹©çŠ¶æ€ -->
<view class="selection-status" wx:if="{{formData.teaTypes.length > 0}}">
  <text class="status-text">å·²é€‰æ‹©: {{formData.teaTypes.join('ã€')}}</text>
  <text class="clear-btn" bindtap="clearTeaTypes">æ¸…ç©º</text>
</view>
```

### 3. åŠŸèƒ½å¢å¼º

#### A. æ·»åŠ æ¸…ç©ºåŠŸèƒ½
```javascript
// æ¸…ç©ºèŒ¶å¶ç±»å‹é€‰æ‹©
clearTeaTypes() {
  this.setData({
    'formData.teaTypes': []
  })
  this.validateField('teaTypes', [])
  
  wx.showToast({
    title: 'å·²æ¸…ç©ºé€‰æ‹©',
    icon: 'success'
  })
},

// æ¸…ç©ºç‰¹è‰²æ ‡ç­¾é€‰æ‹©
clearFeatures() {
  this.setData({
    'formData.features': []
  })
  
  wx.showToast({
    title: 'å·²æ¸…ç©ºé€‰æ‹©',
    icon: 'success'
  })
}
```

#### B. æ·»åŠ å…¨é€‰åŠŸèƒ½
```javascript
// å…¨é€‰èŒ¶å¶ç±»å‹
selectAllTeaTypes() {
  this.setData({
    'formData.teaTypes': [...this.data.teaTypeOptions]
  })
  this.validateField('teaTypes', this.data.teaTypeOptions)
  
  wx.showToast({
    title: 'å·²å…¨é€‰',
    icon: 'success'
  })
}
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. åŠŸèƒ½æµ‹è¯•æ­¥éª¤
```bash
1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. è¿›å…¥å‘å¸ƒèŒ¶å›­é¡µé¢
3. ç‚¹å‡»èŒ¶å¶ç±»å‹æ ‡ç­¾
4. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º
5. æ£€æŸ¥é€‰ä¸­çŠ¶æ€æ˜¾ç¤º
6. éªŒè¯æ•°æ®æ›´æ–°
7. æµ‹è¯•å¤šé€‰åŠŸèƒ½
8. æµ‹è¯•å–æ¶ˆé€‰æ‹©
```

### 2. æµ‹è¯•ç”¨ä¾‹
```javascript
// æµ‹è¯•ç”¨ä¾‹1: åŸºæœ¬é€‰æ‹©
- ç‚¹å‡»"çº¢èŒ¶" -> åº”è¯¥æ˜¾ç¤ºè“è‰²é€‰ä¸­çŠ¶æ€
- ç‚¹å‡»"ç»¿èŒ¶" -> åº”è¯¥åŒæ—¶é€‰ä¸­ä¸¤ä¸ª
- å†æ¬¡ç‚¹å‡»"çº¢èŒ¶" -> åº”è¯¥å–æ¶ˆé€‰ä¸­

// æµ‹è¯•ç”¨ä¾‹2: å¤šé€‰é™åˆ¶
- é€‰æ‹©6ä¸ªç‰¹è‰²æ ‡ç­¾ -> åº”è¯¥æ­£å¸¸
- å°è¯•é€‰æ‹©ç¬¬7ä¸ª -> åº”è¯¥æ˜¾ç¤ºæç¤ºä¿¡æ¯

// æµ‹è¯•ç”¨ä¾‹3: æ•°æ®éªŒè¯
- ä¸é€‰æ‹©èŒ¶å¶ç±»å‹æäº¤ -> åº”è¯¥æ˜¾ç¤ºé”™è¯¯æç¤º
- é€‰æ‹©èŒ¶å¶ç±»å‹åæäº¤ -> åº”è¯¥æ­£å¸¸é€šè¿‡
```

## ğŸ“‹ è°ƒè¯•æ¸…å•

### 1. ç¯å¢ƒæ£€æŸ¥
- [ ] å¾®ä¿¡å¼€å‘è€…å·¥å…·ç‰ˆæœ¬æ˜¯å¦æœ€æ–°
- [ ] é¡¹ç›®é…ç½®æ˜¯å¦æ­£ç¡®
- [ ] ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- [ ] å°ç¨‹åºæƒé™æ˜¯å¦é…ç½®æ­£ç¡®

### 2. ä»£ç æ£€æŸ¥
- [ ] äº‹ä»¶ç»‘å®šæ˜¯å¦æ­£ç¡®
- [ ] æ•°æ®ä¼ é€’æ˜¯å¦æ­£ç¡®
- [ ] æ•°ç»„æ“ä½œæ˜¯å¦æ­£ç¡®
- [ ] setDataè°ƒç”¨æ˜¯å¦æ­£ç¡®
- [ ] CSSæ ·å¼æ˜¯å¦æ­£ç¡®

### 3. è¿è¡Œæ—¶æ£€æŸ¥
- [ ] æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
- [ ] ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ
- [ ] é¡µé¢æ˜¯å¦æ­£ç¡®åŠ è½½
- [ ] æ•°æ®æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–

## ğŸ¯ è§£å†³æ–¹æ¡ˆæ€»ç»“

### ç«‹å³æ‰§è¡Œ
1. **æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç¼–è¯‘**
2. **æ·»åŠ è°ƒè¯•ä»£ç **
3. **å¢å¼ºé”™è¯¯å¤„ç†**

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–
1. **å¢å¼ºè§†è§‰åé¦ˆ**
2. **æ·»åŠ æ“ä½œæç¤º**
3. **æ˜¾ç¤ºé€‰æ‹©çŠ¶æ€**

### åŠŸèƒ½å¢å¼º
1. **æ·»åŠ æ¸…ç©ºåŠŸèƒ½**
2. **æ·»åŠ å…¨é€‰åŠŸèƒ½**
3. **ä¼˜åŒ–äº¤äº’ä½“éªŒ**

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. å¾®ä¿¡å¼€å‘è€…å·¥å…·ç‰ˆæœ¬
2. æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. å…·ä½“æ“ä½œæ­¥éª¤
4. è®¾å¤‡ä¿¡æ¯

---

**æ³¨æ„**: å¤šé€‰åŠŸèƒ½çš„ä»£ç é€»è¾‘æ˜¯æ­£ç¡®çš„ï¼Œé—®é¢˜å¯èƒ½å‡ºç°åœ¨è¿è¡Œç¯å¢ƒæˆ–ç”¨æˆ·ä½“éªŒæ–¹é¢ã€‚æŒ‰ç…§ä¸Šè¿°æ­¥éª¤è¿›è¡Œä¿®å¤ï¼Œåº”è¯¥èƒ½å¤Ÿè§£å†³é—®é¢˜ã€‚
